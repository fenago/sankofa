[build]
  command = "npm run build"
  publish = ".next"

[build.environment]
  NODE_VERSION = "20"

# API routes are handled by Next.js plugin
[functions]
  external_node_modules = ["unpdf", "neo4j-driver"]
  node_bundler = "esbuild"

[functions."api/*"]
  # Maximum timeout for API routes (26s on Pro)
  timeout = 26

[[plugins]]
  package = "@netlify/plugin-nextjs"
